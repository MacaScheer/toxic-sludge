{"code":"!function(t){var e={};function r(n){if(e[n])return e[n].exports;var i=e[n]={i:n,l:!1,exports:{}};return t[n].call(i.exports,i,i.exports,r),i.l=!0,i.exports}r.m=t,r.c=e,r.d=function(t,e,n){r.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},r.r=function(t){\"undefined\"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:\"Module\"}),Object.defineProperty(t,\"__esModule\",{value:!0})},r.t=function(t,e){if(1&e&&(t=r(t)),8&e)return t;if(4&e&&\"object\"==typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,\"default\",{enumerable:!0,value:t}),2&e&&\"string\"!=typeof t)for(var i in t)r.d(n,i,function(e){return t[e]}.bind(null,i));return n},r.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return r.d(e,\"a\",e),e},r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},r.p=\"\",r(r.s=2)}([function(t,e,r){},function(t,e,r){\"use strict\";var n=function(t,e){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return function(t,e){var r=[],n=!0,i=!1,o=void 0;try{for(var a,s=t[Symbol.iterator]();!(n=(a=s.next()).done)&&(r.push(a.value),!e||r.length!==e);n=!0);}catch(t){i=!0,o=t}finally{try{!n&&s.return&&s.return()}finally{if(i)throw o}}return r}(t,e);throw new TypeError(\"Invalid attempt to destructure non-iterable instance\")},i=function(){function t(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,\"value\"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}();var o=r(0),a=function(){function t(e,r,n){!function(t,e){if(!(t instanceof e))throw new TypeError(\"Cannot call a class as a function\")}(this,t),this.width=r,this.height=e,this.types=[\"elbow\",\"straight\",\"cross\",\"elbow\"],this.shapesObj={},this.ctx=n}return i(t,[{key:\"createGrid\",value:function(t){t.beginPath();for(var e=0,r=0;r<14;e+=50,r++)t.moveTo(0,e),t.lineTo(750,e),t.lineWidth=1,t.stroke();for(var n=0,i=0;i<16;n+=50,i++)t.moveTo(n,0),t.lineTo(n,650),t.stroke();for(var a=0,s=0;s<15;a+=50,s++)for(var u=0,l=0;l<13;u+=50,l++){var c=this.types[Math.floor(3*Math.random())],f=[a,a+50],h=[u,u+50];if(0===a&&250===u){var p=new o(\"entry\",1,f,h);p.drawShape(t,a,u),this.shapesObj[[f,h]]=p}else if(700===a&&250===u){var d=new o(\"exit\",0,f,h);d.drawShape(t,a,u),this.shapesObj[[f,h]]=d}else{var v=void 0;\"elbow\"===c&&(v=Math.floor(4*Math.random())),\"straight\"===c&&(v=Math.floor(2*Math.random()));var b=new o(c,v,f,h);b.drawShape(t,a,u),this.shapesObj[[f,h]]=b}}t.fill()}},{key:\"rotateShape\",value:function(t){var e=this,r=[t[0],t[1]],n=r[0],i=r[1],o=Object.keys(this.shapesObj),a=void 0;o.forEach((function(t){var r=t.split(\",\").map((function(t){return parseInt(t)}));if(n>=r[0]&&n<=r[1]&&i>=r[2]&&i<=r[3]){var o=(a=e.shapesObj[t]).orientationIndex;\"elbow\"===a.type&&(o=Math.floor((o+1)%4),a.reDraw(o,t,e.ctx,a.type),e.shapesObj[t].orientationIndex=o),\"straight\"===a.type&&(o=Math.floor((o+1)%2),a.reDraw(o,t,e.ctx,a.type),e.shapesObj[t].orientationIndex=o)}}))}},{key:\"findDirection\",value:function(t){var e=t.split(\",\"),r={0:\"right\",1:\"down\",2:\"left\",3:\"up\"}[parseInt(e.shift())],i=e.map((function(t){return parseInt(t)})),o=n(i,4),a=o[0],s=o[1],u=o[2],l=o[3],c=void 0;switch(r){case\"right\":c=[a+50,s+50,u,l].join(\",\");break;case\"left\":c=[a-50,s-50,u,l].join(\",\");break;case\"up\":c=[a,s,u+50,l+50].join(\",\");break;case\"down\":c=[a,s,u-50,l-50].join(\",\")}return[r,this.shapesObj[c]]}},{key:\"getValidFlow\",value:function(t,e){return\"cross\"===e.type||e.validPipeFlow(e,t)}},{key:\"fillPipes\",value:function(t,e){e.drawSludge(e,t,this.ctx)}}]),t}();t.exports=a},function(t,e,r){t.exports=r(3)},function(t,e,r){\"use strict\";var n=r(1),i=r(8);document.addEventListener(\"DOMContentLoaded\",(function(){var t=document.getElementById(\"gameboard\"),e=t.getContext(\"2d\"),r=new n(400,800,e);r.createGrid(e),t.addEventListener(\"click\",(function(t){var e=[event.pageX,event.pageY];r.rotateShape(e)})),new i(r).start()}))},,,,,function(t,e,r){\"use strict\";var n=function(){function t(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,\"value\"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}();r(1);var i=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError(\"Cannot call a class as a function\")}(this,t),this.board=e,this.isGameOver=!1,this.start=this.start.bind(this),this.play=this.play.bind(this),this.dirString=\"\",this.directionOptionsObj={right:0,down:1,left:2,up:3}}return n(t,[{key:\"start\",value:function(){this.dirString=\"0,0,50,250,300\";(new Date).getTime();this.play(0)}},{key:\"play\",value:function(t){var e=this.board.findDirection(this.dirString),r=e[1],n=e[0];if(this.board.fillPipes(n,r),this.board.getValidFlow(n,r)){var i=[this.directionOptionsObj[n]].concat(r.xRange).concat(r.yRange);this.dirString=i.join(\",\"),console.log(e)}else console.log(\"game over\")}}]),t}();t.exports=i}]);","extractedComments":[]}